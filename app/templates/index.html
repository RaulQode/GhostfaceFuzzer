<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SpamShieldAI</title>
    <style>
        @keyframes neonGlow {
            from {
                text-shadow: 0 0 5px rgb(255, 0, 0), 0 0 10px rgb(255, 0, 0), 0 0 15px rgb(255, 0, 0);
            }
            to {
                text-shadow: 0 0 20px rgb(255, 0, 0), 0 0 30px rgb(255, 0, 0), 0 0 40px rgb(255, 0, 0);
            }
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            color: rgb(255, 0, 0);
            font-family: 'Courier New', monospace;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        .sidebar {
            width: 30%;
            background-color: #111;
            display: flex;
            align-items: center;
            justify-content: center;
            border-right: 2px solid rgb(255, 0, 0);
        }
        .pet-gif {
        position: absolute;
        bottom: 10px;
        right: 10px;
        width: 80px;
        pointer-events: none;
        }
        .content {
            width: 70%;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        h1 {
            font-size: 2rem;
            animation: neonGlow 1s infinite alternate;
            margin-bottom: 1rem;
        }

        textarea {
            width: 100%;
            height: 100px;
            background-color: #111;
            color: rgb(255, 0, 0);
            border: 1px solid rgb(255, 0, 0);
            padding: 1rem;
            margin-bottom: 1rem;
            font-size: 1rem;
            resize: none;
        }

        button {
            background-color: transparent;
            border: 2px solid rgb(255, 0, 0);
            color: rgb(255, 0, 0);
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: rgb(255, 0, 0);
            color: #000;
            box-shadow: 0 0 10px rgb(255, 0, 0), 0 0 20px rgb(255, 0, 0);
        }

        .result {
            margin-top: 1rem;
            font-size: 1.2rem;
            color: #0f0;
        }

        .signature {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 0.6rem;
            white-space: pre;
            color: rgb(255, 0, 0);
            opacity: 0.8;
        }
        .hacking-phrases {
        position: fixed;
        bottom: 10px;
        left: 10px;
        color: #ff0000;
        font-family: "Courier New", Courier, monospace;
        font-size: 1rem;
        background: #111;
        padding: 8px 16px;
        border-radius: 6px;
        border: 1px solid #111;
        z-index: 1000;
        pointer-events: none;
    }
    </style>
</head>
<body>
    <!-- Menú superior -->
    <nav style="position: fixed; top: 0; width: 100%; background-color: #111; border-bottom: 2px solid red; z-index: 999;">
        <ul style="display: flex; list-style: none; margin: 0; padding: 10px; justify-content: center;">
            <li style="margin: 0 15px;"><button onclick="showSection('home')">Principal</button></li>
            <li style="margin: 0 15px;"><button onclick="showSection('scan')">Cypher</button></li>
            <li style="margin: 0 15px;"><button onclick="showSection('extract')">Extractor</button></li>

            <li style="margin: 0 15px;"><button onclick="showSection('about')">About</button></li>
        </ul>
    </nav>

    <div class="sidebar" style="margin-top: 50px;">
        <img id="mascotGif" src="../static/skull.gif" alt="Mascot" width="400">
    </div>

    <div class="content" style="margin-top: 50px;">
        <!-- Sección Inicio -->
        <div id="home" class="section">
            <h1>Welcome to GhostfaceFuzzer</h1>
            <p>Select an option in the menu to start.</p>
        </div>

        <!-- Sección Clasificar
        <div id="scan" class="section" style="display: none;">
            <h1>HACK ME!! V1</h1>
            <textarea id="spamText" placeholder="Type your message here..."></textarea>
            <button onclick="classify()">Classify</button>
            <div class="result" id="result"></div>
        </div> -->
        <div id="scan" class="section" style="display: none;">
            <h1>Cypher</h1>
             <form action="/hide_message"  method="post" enctype="multipart/form-data" style="display: flex; flex-direction: column; align-items: center;">
                <input type="file" name="image" accept="image/*">   
                <textarea id="spamText" name="texthidden" placeholder="Type your message here..."></textarea>             
            <button  type="submit">Process Image</button>
            </form>            
            
            {% if result is not none %}
            <h2>✔️ Result of the process: {{ result }}</h2>
        {% endif %}
        </div> 
        <div id="extract" class="section" style="display: none;">
            <h1>Cypher</h1>
             <form action="/extract_message"  method="post" enctype="multipart/form-data" style="display: flex; flex-direction: column; align-items: center;">
                <input type="file" name="image" accept="image/*">   
            <button  type="submit">Process Image</button>
            </form>            
            
            {% if result is not none %}
            <h2>✔️ Result of the process: {{ result }}</h2>
        {% endif %}
        {% if extracted_message %}
            <div>
                <h3>Mensaje oculto extraído:</h3>
                <p>{{ extracted_message }}</p>
            </div>
        {% endif %}
        </div> 
        <!-- Sección Sobre -->
        <div id="about" class="section" style="display: none;">
            <h1>About this project</h1>
            <p>GhostfaceFuzzer - A stealthy probe into the weaknesses of AI..</p>
        </div>

        <div class="hacking-phrases" id="hackingPhrases"></div>

        <div class="signature">
            ___   ___    __   ____  ___    ___    __     __    <br>
           |   | /  |   |  |  |  |  |  |  /  |   |  |   |  |       [0][1][0]  <br>
           |   |/  /    |  |  |  |  |  | /  /    |  |   |  |       [0][0][1]   <br>
           |      /     |  |  |  |  |      |     \\  \\_/  /       [1][1][1]<br>
           |  |\\  \\   |  '--'  |  |  |\\  \\    \\     /        <br>
           | _| `.__\\  |________|  | _| `.__\\    |____|         
        </div>
    </div>

    <script>
         function showSection(id) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(s => s.style.display = 'none');
            document.getElementById(id).style.display = 'block';
        }
        async function classify() {
            const message = document.getElementById('spamText').value;
            const response = await fetch('/classify', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ message })
            });
            const data = await response.json();
            document.getElementById('result').textContent = `Result: ${data.result}`;
        }
            // List all your gif filenames in the static folder
        const gifFiles = [
            'skull.gif',            
            // Add more gif filenames here
        ];

        function getRandomGif(current) {
            let next;
            do {
                next = gifFiles[Math.floor(Math.random() * gifFiles.length)];
            } while (gifFiles.length > 1 && next === current);
            return next;
        }

        function changeGif() {
            const img = document.getElementById('mascotGif');
            const current = img.src.split('/').pop();
            const nextGif = getRandomGif(current);
            img.src = `../static/${nextGif}`;
        }

        // Change gif every 5 seconds
        setInterval(changeGif, 5000);

         // Hacking phrases logic
        const phrases = [
            "Access granted...",
            "Bypassing firewall...",
            "Injecting payload...",
            "Decrypting data...",
            "Establishing backdoor...",
            "Brute force in progress...",
            "Spoofing MAC address...",
            "Escalating privileges...",
            "Sniffing packets...",
            "Cracking hash...",
            "Uploading shell...",
            "Enumerating network...",
            "Phishing attempt detected...",
            "Zero-day exploit launched...",
            "Rootkit installed...",
            "Session hijacked...",
            "Proxy chain enabled...",
            "SQL injection success...",
            "Buffer overflow triggered...",
            "Stealth mode activated..."
        ];

        function showRandomPhrase() {
            const el = document.getElementById('hackingPhrases');
            const idx = Math.floor(Math.random() * phrases.length);
            el.textContent = phrases[idx];
        }
        showRandomPhrase();
        setInterval(showRandomPhrase, 5000);
    </script>
</body>
</html>